# Process와 Thread

# 프로세스
## OS는 다양한 프로그램을 수행
- 일괄 처리 시스템(batch system)은 작업(job)들을 실행
- 시분할 시스템(time-shared system)은 사용자 프로그램들 또는 태스크(task)들을 수행
- 작업, 태스크, 프로세스는 거의 비슷한 단어
- 프로세스란 수행중인 프로그램!

## 프로세스 구성 요소
- **텍스트 섹션(text section)** : 프로그램 코드
- **프로그램 카운터(pc, program counter), 레지스터**
- **스택(stack)** : 임시 데이터 저장소 (매개 변수, 복귀주소, 지역 변수)
- **데이터 섹션(data section)** : 전역변수
- **힙(heap)** : 실행 중에 동적으로 할당되는 메모리
    

## 프로그램? 프로세스?
- 프로그램은 디스크에 저장된 **수동적 존재** : 실행파일
- 프로세스는 **능동적 존재** : 프로그램의 실행파일이 메모리에 적재될 때 프로세스가 됨
- 동일한 프로그램(실행파일)이 여러 개의 프로세스가 될 수 있음

## 프로세스 상태
- **new (새로운)** : 프로세스 생성 중
- **ready (준비 완료)** : 프로세스가 처리기(CPU)에 할당되기를 기다림
- **running (실행)** : 명령어들이 실행되고 있음
- **waiting (대기)** : 프로세서가 어떤 사건(입출력 완료 || 신호의 수신)이 일어나기를 기다림
- **terminated (종료)** : 프로세스 실행 종료

## PCB (Process Control Block, 프로세스 제어 블록)
### PCB 구성 요소
- 프로세스 상태, 번호
- 프로그램 카운터
- CPU 레지스터들
- CPU 스케줄링 정보 : 우선 순위, 스케줄링 큐 포인터
- 메모리 관리 정보 : 프로세스에 할당된 메모리
- 회계(accounting) 정보 : CPU 사용량, 경과시간
- 입/출력 상태 정보 : 프로세스에 할당된 입출

### 프로세스 간 CPU 스위치 (문맥 교환)
- 프로세스1의 진행되는 동안 프로세스2를 호출할 때, 인터럽트 및 시스템콜 후 PCB1의 상태 저장
- PCB2의 상태 불러오고, 프로세스2 수행 후 다시 PCB2 상태 저장
- 프로레스1로 복귀
